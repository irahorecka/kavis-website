{% extends "page.html" %}

{%- block page_css -%}
  <link rel="stylesheet" href="{{ '/css/feed-layout.css'|url }}">
  <link rel="stylesheet" href="{{ '/css/services.css'|url }}">
  <link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">
{% endblock %}

{% block page_js %}
  <script defer src="{{ '/external/photoswipe-4.1.3/photoswipe.min.js'|url }}"></script> 
  <script defer src="{{ '/external/photoswipe-4.1.3/photoswipe-ui-default.min.js'|url }}"></script>
  <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
  <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/extensions/mobile/bootstrap-table-mobile.min.js"></script>
{%- endblock -%}

{% block content %}
  <div class="div-services">
    {{ this.body }}
  </div>

  <span id="facilities" class="anchor"></span>
  <section class="section-facilities">
    <div class="container">
      <h2>Facilities</h2>
      <p>We offer overseas facilities of exceptional standards. Our facilities are located in Beijing, China,
      with end-to-end ISO1234:55 certified standards. We currently employ more than N employees.</p>
      <img src="{{ '/images/semiconductor-services.png'|url }}" class="img-fluid screenshot rounded banner-img"
           alt="Kavis Technology - Services/Facilities">
      <h3>Beijing Site</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
      <p class="table-header">We offer the following offshore capabilities:</p>
      <div class="row table-content">
          <div class="col-sm-6">CNC Milling, Lapping, Grinding</div>
          <div class="col-sm-6">Sheet metal (< 1-meter length)</div>
          <div class="col-sm-6">Cold Stabilization</div>
          <div class="col-sm-6">Laser Curring & Welding</div>
          <div class="col-sm-6">EDM</div>
      </div>
    </div>

    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalTable">
      Launch modal table
    </button>
    <div id="modalTable" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Modal table</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <table id="table" class="table-striped"
              data-toggle="table"
              data-height="399"
              data-url="{{ '/json/services-facilities.json'|url }}"
              data-mobile-responsive="true"
              data-check-on-init="true">
              <thead>
                <tr class=".mobile-table-col-header">
                  <th id="table-desc" data-field="desc">Description</th>
                  <th id="table-quant" data-field="quant">Quantity</th>
                  <th id="table-specs" data-field="specs">Specifications</th>
                  <th id="table-num-axis" data-field="num-axis">No. Axis</th>
                </tr>
              </thead>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="container gallery my-gallery">
      {%- for photo in this.pagination.items -%}
        {%- if photo.name.startswith('facilities') -%}
          <figure itemprop="associatedMedia">
            <!-- Main image when zoomed. Set fixed image dimension to 600x400 for now. -->
            <a href="{{ '../images/' + photo.image|url }}" data-med="{{ '../images/' + photo.image|url }}" data-caption="{{ photo.description }}<br><em class='text-muted'>© Kavis Technology LLC</em>" data-size="600x400" data-med-size="600x400" itemprop="contentUrl">
              <!-- Image thumbnail -->
              <img style="padding: 1.5px;" src="{{ '../images/' + photo.image|url }}" itemprop="thumbnail" alt="{{ photo.description }}">
            </a>
          </figure>
        {%- endif -%}
      {%- endfor -%}
    </div>
  </section>

  <span id="hardware" class="anchor"></span>
  <section class="section-dummy"></section>
  <section class="section-hardware">
    <div class="container">
      <h2>Hardware</h2>
      <p>This is the hardware section.</p>
      <img src="{{ '/images/machining-services.png'|url }}" class="img-fluid screenshot rounded banner-img"
           alt="Kavis Technology - Services/Hardware">
    </div>
    <div class="container gallery my-gallery">
      {%- for photo in this.pagination.items -%}
        {%- if photo.name.startswith('hardware') -%}
          <figure itemprop="associatedMedia">
            <!-- Set fixed image dimension to 600x400 for now. -->
            <a href="{{ '../images/' + photo.image|url }}" data-med="{{ '../images/' + photo.image|url }}" data-caption="{{ photo.description }}<br><em class='text-muted'>© Kavis Technology LLC</em>" data-size="600x400" data-med-size="600x400" itemprop="contentUrl">
              <img style="padding: 1.5px;" src="{{ '../images/' + photo.image|url }}" itemprop="thumbnail" alt="{{ photo.description }}">
            </a>
          </figure>
        {%- endif -%}
      {%- endfor -%}
    </div>
  </section>

  {% include "includes/photoswipe-root.html" %}

  <script>
    var $table = $('#table')

    $(function() {
      $('#modalTable').on('shown.bs.modal', function () {
        $table.bootstrapTable('resetView')
        $table.bootstrapTable('refreshOptions', {
          theadClasses: "thead-light"
        })
        $(this).find('.modal-dialog').css({width:'auto',
                               height:'auto',
                              'max-height':'100%'});
        
      })
    })

    // Rename column for mobile
    if (/Mobi|Android/i.test(navigator.userAgent)) {
      document.getElementById("table-desc").innerHTML = "Description";
      document.getElementById("table-quant").innerHTML = "Quantity";
      document.getElementById("table-specs").innerHTML = "Specs";
    }
  </script>

{% endblock %}
