{% extends "page.html" %}

{%- block page_css -%}
  <link rel="stylesheet" href="{{ '/external/bootstrap-table-1.18.3/bootstrap-table.min.css'|url }}">
  <link rel="stylesheet" href="{{ '/css/templates/feed-layout.css'|url }}">
  <link rel="stylesheet" href="{{ '/css/templates/gallery.css'|url }}">
  <link rel="stylesheet" href="{{ '/css/page/services.css'|url }}">
{% endblock %}

{% block page_js %}
  <script defer src="{{ '/external/bootstrap-table-1.18.3/bootstrap-table.min.js'|url }}"></script>
  <script defer src="{{ '/external/bootstrap-table-1.18.3/bootstrap-table-mobile.min.js'|url }}"></script>
  <script defer src="{{ '/external/photoswipe-4.1.3/photoswipe.min.js'|url }}"></script>
  <script defer src="{{ '/external/photoswipe-4.1.3/photoswipe-ui-default.min.js'|url }}"></script>
{%- endblock -%}

{% block content %}
  <div class="div-services">
    {{ this.body }}
  </div>

  <span id="facilities" class="anchor"></span>
  <section>
    <div class="container">
      <h2>Facilities</h2>
      <p>We have local and overseas facilities of exceptional standards, with locations in the United States,
      Asia, and Europe.</p>
      <img src="{{ '/images/semiconductor-services.png'|url }}" class="img-fluid screenshot rounded banner-img"
           alt="Kavis Technology - Services/Facilities">

      <h3>International</h3>
      <p class="container-desc">Our international facilities employ cutting edge equipments and manufacturing to maximize
                                compatibility with your business project's needs</p>
      <p class="table-header">We offer the following offshore capabilities:</p>
      <div class="row table-content">
          <div class="col-sm-6 col-fa">CNC Milling | Lapping | Grinding</div>
          <div class="col-sm-6 col-fa">Sheet Metal (< 1-meter length)</div>
          <div class="col-sm-6 col-fa">Cold Stabilization</div>
          <div class="col-sm-6 col-fa">Laser Cutting & Welding</div>
          <div class="col-sm-6 col-fa">EDM</div>
          <div class="col-sm-6 col-fa">Silicon Carbide Mfc.</div>
          <div class="col-sm-6 col-fa">Zirconia Mfc.</div>
          <div class="col-sm-6 col-fa">Fiberglass Mfc.</div>
      </div>
      <div class="open-table">
        <a class="btn btn-main btn-info" href="" data-toggle="modal" data-target="#modalTable">View equipments sheet</a>
      </div>
      <div id="modalTable" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">In-House Equipments & Tools</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
            <!-- data-height is for desktop - view mobile data-height at bottom of file -->
              <table id="table" class="table-striped"
                data-toggle="table"
                data-height="560"
                data-url="{{ '/json/services-facilities.json'|url }}"
                data-mobile-responsive="true"
                data-check-on-init="true">
                <thead>
                  <tr class=".mobile-table-col-header">
                    <th data-field="desc" data-sortable="true">Description</th>
                    <th data-field="quant" data-sortable="true">Quantity</th>
                    <th data-field="specs">Specifications</th>
                    <th data-field="num-axis">No. Axis</th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary btn-main btn-close-modal" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      <hr>

      <h3>United States</h3>
      <p class="container-desc">
        Our U.S. and offshore facilities work in syhcrony, helping customers benefit from high quality materials while achieving cost-down objectives.
        We complete in-house assemblies, quality assurance, and detailed cleaning of materials, adhering closely to your project requirements.
      </p>
      <p class="table-header">Hayward, CA facility:</p>
      <div class="row table-content">
          <div class="col-sm-12 col-fa">Parts cleaning at TMPI for photo-contamination control</div>
          <div class="col-sm-12 col-fa">Inspection and assembly in Class 1000 cleanroom</div>
          <div class="col-sm-12 col-fa">Electroless nickel plating at Electro Plating Specialties (EPS)</div>
          <div class="col-sm-12 col-fa">Colored hard anodized materials at EPS</div>
          <div class="col-sm-12 col-fa">Reworking and non-compliance materials handling at Tridecs Precision Machining</div>
          <div class="col-sm-12 col-fa">Inventory and spare parts</div>
      </div>

      <div class="gallery multi-gallery">
      {%- for image in this.gallery.blocks -%}
        {% if image.tag == 'facilities' %}
          <figure itemprop="associatedMedia">
              <!-- Main image when zoomed. Set fixed image dimension to 600x400 for now. -->
              <a href="{{ '../images/' + image.url|url }}" data-med="{{ '../images/' + image.url|url }}"
                  data-caption="{{ image.description }}<br><em class='text-muted'>© Kavis Technology LLC</em>"
                  data-size="800x600"
                  data-med-size="800x600"
                  itemprop="contentUrl">
                  <!-- Image thumbnail -->
                  <img class="thumbnail" src="{{ '../images/' + image.thumbnail_url|url }}"
                  itemprop="thumbnail"
                  alt="{{ image.description }}">
              </a>
          </figure>
        {% endif %}
      {%- endfor -%}
      </div>

    </div>
  </section>

  <span id="hardware" class="anchor"></span>
  <section class="section-dummy"></section>  <!-- for proper alternation of background colors -->
  <section>
    <div class="container">
      <h2>Hardware</h2>
      <p class="container-desc">This is the hardware section.</p>
      <img src="{{ '/images/machining-services.png'|url }}" class="img-fluid screenshot rounded banner-img"
           alt="Kavis Technology - Services/Hardware">
    </div>

    <div class="container gallery multi-gallery">
    {%- for image in this.gallery.blocks -%}
      {% if image.tag == 'hardware' %}
        <figure itemprop="associatedMedia">
            <!-- Main image when zoomed. Set fixed image dimension to 600x400 for now. -->
            <a href="{{ '../images/' + image.url|url }}" data-med="{{ '../images/' + image.url|url }}"
                data-caption="{{ image.description }}<br><em class='text-muted'>© Kavis Technology LLC</em>"
                data-size="800x600"
                data-med-size="800x600"
                itemprop="contentUrl">
                <!-- Image thumbnail -->
                <img class="thumbnail" src="{{ '../images/' + image.thumbnail_url|url }}"
                itemprop="thumbnail"
                alt="{{ image.description }}">
            </a>
        </figure>
      {% endif %}
    {%- endfor -%}
    </div>

  </section>

  {% include "includes/photoswipe-root.html" %}

  <script>
    var $table = $('#table')

    $(function() {
      $('#modalTable').on('shown.bs.modal', function () {
        $table.bootstrapTable('resetView')
        $table.bootstrapTable('refreshOptions', {
          theadClasses: "thead-light"
        })
      })
      $('body').on('hidden.bs.modal', '.modal', function() {
        $('.btn').blur();
      });
    })

    // Adjust modal table col name and window height for mobile
    if (/Mobi|Android/i.test(navigator.userAgent)) {
      document.querySelectorAll('[data-field="specs"]')[0].innerHTML = "Specs";
      document.getElementsByTagName("TABLE")[0].setAttribute("data-height", "449");
    }
  </script>

{% endblock %}
